# --- DOCKER OPERATIONS ---
# Start the application in the background (rebuilds if necessary)
up:
	docker-compose up -d --build

# Stop and remove all containers
down:
	docker-compose down

# Start only the Redis container (useful for local development)
redis:
	docker-compose up -d redis-db

# --- LOCAL DEVELOPMENT ---
# Start the FastAPI server locally (with hot reload)
run:
	uvicorn main:app --reload

# Install dependencies from requirements.txt
install:
	pip install -r requirements.txt

# Save current dependencies to requirements.txt
freeze:
	pip freeze > requirements.txt

# --- TEST & QUALITY ---
# Run all tests
test:
	python -m pytest

# Run tests with verbose output (shows more details)
test-v:
	python -m pytest -v

# --- INFO ---
# Display project information and quick links
info:
	@echo "API Shell is running!"
	@echo "Docs: http://127.0.0.1:8000/docs"
	@echo "Login: admin / secret"